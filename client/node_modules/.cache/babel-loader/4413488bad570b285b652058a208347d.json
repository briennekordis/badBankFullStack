{"ast":null,"code":"import _slicedToArray from\"/Users/BrienneKordis/Code/Projects/React/badbank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext}from\"react\";import{Card}from\"react-bootstrap\";import{UserContext}from\"./context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Withdraw(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),withdraw=_React$useState6[0],setWithdraw=_React$useState6[1];var userContext=useContext(UserContext);var users=userContext.state.users;var balance=users[0].balance;var nav=document.getElementById(\"nav1\");if(nav!==null){document.getElementById(\"nav1\").className=\"nav-item\";document.getElementById(\"nav2\").className=\"nav-item\";document.getElementById(\"nav3\").className=\"nav-item active\";document.getElementById(\"nav4\").className=\"nav-item\";}function validate(num){if(isNaN(parseFloat(num))){setStatus('Error: Please enter a number');setTimeout(function(){return setStatus('');},3000);return false;}return true;}function overdraft(num){if(num>balance){setStatus('Error: You do not have enough funds for this transaction.');setTimeout(function(){return setStatus('');},3000);return false;}return true;}function handleSubmit(){console.log(withdraw);if(!validate(withdraw)||!overdraft(withdraw))return;balance-=parseFloat(withdraw);users[0].withdrawls.push(parseFloat(withdraw));users[0].balance=balance;alert(\"Success! Withdrew \".concat(withdraw,\" : New balance \").concat(balance));setShow(false);};function clearForm(){setWithdraw(0);setShow(true);}return/*#__PURE__*/_jsxs(Card,{style:{backgroundColor:\"lavender\",color:\"black\",width:\"18rem\"},children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Withdraw\"}),/*#__PURE__*/_jsx(Card.Body,{children:show?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Your balance is currently: $\",balance,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Withdrawl Amount\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"withdrawlAmount\",placeholder:\"Withdrawl Amount\",value:withdraw,onChange:function onChange(e){return setWithdraw(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",disabled:withdraw===\"\"||withdraw===0,onClick:handleSubmit,children:\"Withdraw\"}),/*#__PURE__*/_jsx(\"br\",{}),status]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Transaction Successful\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:clearForm,children:\"Make Another Withdrawl\"})]})})]});}export default Withdraw;","map":{"version":3,"sources":["/Users/BrienneKordis/Code/Projects/React/badbank/src/Components/withdraw.js"],"names":["React","useContext","Card","UserContext","Withdraw","useState","show","setShow","status","setStatus","withdraw","setWithdraw","userContext","users","state","balance","nav","document","getElementById","className","validate","num","isNaN","parseFloat","setTimeout","overdraft","handleSubmit","console","log","withdrawls","push","alert","clearForm","backgroundColor","color","width","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { UserContext } from \"./context\";\n\nfunction Withdraw(){\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  const [withdraw, setWithdraw] = React.useState(0);\n  const userContext = useContext(UserContext);\n  let users = userContext.state.users;\n  let balance = users[0].balance;\n  let nav = document.getElementById(\"nav1\");\n  if (nav !== null) {\n      document.getElementById(\"nav1\").className = \"nav-item\";\n      document.getElementById(\"nav2\").className = \"nav-item\";\n      document.getElementById(\"nav3\").className = \"nav-item active\";\n      document.getElementById(\"nav4\").className = \"nav-item\";    \n  }\n\n\n  function validate(num){\n    if (isNaN(parseFloat(num))) {\n      setStatus('Error: Please enter a number');\n      setTimeout(() => setStatus(''),3000);\n      return false;\n    }\n    return true;\n}  \n\nfunction overdraft(num){\n  if (num > balance) {\n    setStatus('Error: You do not have enough funds for this transaction.');\n    setTimeout(() => setStatus(''),3000);\n    return false;\n  }\n  return true;\n}  \n\nfunction handleSubmit() {\n  console.log(withdraw);\n  if (!validate(withdraw) || (!overdraft(withdraw)))   \n   return;\n  balance -= parseFloat(withdraw);\n  users[0].withdrawls.push(parseFloat(withdraw));\n  users[0].balance = balance;\n  alert(`Success! Withdrew ${withdraw} : New balance ${balance}`);\n  setShow(false);\n};\n\n  function clearForm(){\n    setWithdraw(0);\n    setShow(true);\n  }\n  \n  return (\n    <Card style={{ backgroundColor: \"lavender\", color: \"black\", width: \"18rem\" }}>\n        <Card.Header>Withdraw</Card.Header>\n        <Card.Body>\n            {show ? (  \n                <>\n                Your balance is currently: ${balance}<br/>\n                <br/>\n                Withdrawl Amount<br/>\n                <input type=\"input\" className=\"form-control\" id=\"withdrawlAmount\" placeholder=\"Withdrawl Amount\" value={withdraw} onChange={e => setWithdraw(e.currentTarget.value)}/><br/>\n                <button type=\"submit\" className=\"btn btn-light\" disabled={withdraw === \"\" || withdraw === 0} onClick={handleSubmit}>Withdraw</button><br/>\n                {status}\n                </>\n                ):(\n                <>\n                <h5>Transaction Successful</h5>\n                <button type=\"submit\" className=\"btn btn-light\" onClick={clearForm}>Make Another Withdrawl</button>\n                </>\n                )}\n\n        </Card.Body>\n    </Card>\n  )\n}\n\nexport default Withdraw;"]},"metadata":{},"sourceType":"module"}